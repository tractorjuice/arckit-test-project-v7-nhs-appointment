# Tech Note: HAPI FHIR — Open Source FHIR Server

## Document Control

| Field | Value |
|-------|-------|
| **Document ID** | hapi-fhir |
| **Document Type** | Tech Note |
| **Project** | NHS Digital Appointment Booking Service (Project 001) |
| **Classification** | OFFICIAL |
| **Status** | DRAFT |
| **Version** | 1.0 |
| **Created Date** | 2026-02-20 |
| **Last Modified** | 2026-02-20 |
| **Review Cycle** | On-Demand |
| **Next Review Date** | 2026-08-20 |
| **Owner** | Enterprise Architect, NHS Digital |
| **Reviewed By** | PENDING |
| **Approved By** | PENDING |
| **Distribution** | Project Team, Development Team |
| **Source Research** | ARC-001-RSCH-v1.0 |

## Revision History

| Version | Date | Author | Changes | Approved By | Approval Date |
|---------|------|--------|---------|-------------|---------------|
| 1.0 | 2026-02-20 | ArcKit AI | Initial creation from `/arckit:research` agent | PENDING | PENDING |

---

## Summary

HAPI FHIR is the leading open-source Java implementation of the HL7 FHIR standard, maintained by the Smile CDR team and a community of 350+ contributors. Licensed under Apache 2.0, it can be self-hosted without licensing fees. HAPI FHIR provides a full FHIR R4 RESTful server, client libraries, and validation tools. It is widely deployed in NHS implementations (NHS Digital published reference implementations use HAPI FHIR), Canadian Health Infoway, US health systems, and global health programmes. GitHub: github.com/hapifhir/hapi-fhir — 4,800+ stars, actively maintained with v7.x current (2025).

## Key Findings

- **Licence**: Apache 2.0 — free to use, modify, and distribute commercially. No GPL/AGPL restrictions. Zero licensing cost for NHS.
- **FHIR Standard Support**: Full FHIR R4 (and R5 preview). Validates against UK Core FHIR profiles. Implements all FHIR resource types including Appointment, Slot, Patient (PDS-mapped), Organization.
- **NHS Deployment**: NHS Digital reference implementations published on GitHub use HAPI FHIR. Multiple NHS Trusts (St Helens and Knowsley Teaching Hospitals) have deployed Mirth Connect with HAPI FHIR libraries.
- **GP Connect Profiles**: HAPI FHIR supports custom FHIR profile validation — can enforce GP Connect R4 profiles (from github.com/NHSDigital/IOPS-FHIR-Validation-Service) ensuring compliance with NHS appointment booking FHIR profiles.
- **Deployment on EKS**: HAPI FHIR server can be containerised (official Docker image available) and deployed on AWS EKS. Requires PostgreSQL backend (Aurora PostgreSQL compatible). Connects natively to the recommended Aurora PostgreSQL Serverless v2 database.
- **Performance**: HAPI FHIR v7 handles thousands of concurrent FHIR requests. For appointment slot retrieval (FR-002 requirement: < 3 seconds p95), HAPI FHIR with connection pooling on Aurora Serverless v2 is sufficient.
- **NHS BaRS Integration**: HAPI FHIR is the server component. The NHS Booking and Referral Standard (BaRS) FHIR API proxy sits in front of HAPI FHIR instances to handle NHS Spine routing and ASID authentication.
- **Mirth Connect status (2025)**: Mirth Connect 4.6 is no longer open source — moved to commercial licensing under NextGen Healthcare. HAPI FHIR direct deployment is now the preferred open-source alternative for NHS FHIR server infrastructure.
- **Commercial Support**: Smile CDR (makers of HAPI FHIR) offer commercial support contracts. KLAS Research rates Rhapsody/Corepoint as top integration engine, but for pure FHIR server functionality HAPI FHIR is the open-source standard.
- **Operational Cost (3-year)**: Self-hosted on AWS EKS alongside main service — estimated £255,000 over 3 years (vs £457,000 for Azure Health Data Services managed FHIR).

## Relevance to Projects

- **ARC-001 NHS Appointment Booking Service**: Recommended as FHIR server layer for GP Connect and NHS BaRS integration. Replaces need for Azure Health Data Services, saving ~£202,000 over 3 years. Key for INT-001 (GP Connect), INT-002 (Hospital PAS), INT-003 (PDS).

---

**Generated by**: ArcKit `/arckit:research` agent
**Generated on**: 2026-02-20
**ArcKit Version**: 2.2.0
**Project**: NHS Digital Appointment Booking Service (Project 001)
**Model**: Claude Sonnet 4.6
