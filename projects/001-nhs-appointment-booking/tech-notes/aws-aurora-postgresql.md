# Tech Note: AWS Aurora PostgreSQL Serverless v2

## Document Control

| Field | Value |
|-------|-------|
| **Document ID** | aws-aurora-postgresql |
| **Document Type** | Tech Note |
| **Project** | NHS Digital Appointment Booking Service (Project 001) |
| **Classification** | OFFICIAL |
| **Status** | DRAFT |
| **Version** | 1.0 |
| **Created Date** | 2026-02-20 |
| **Last Modified** | 2026-02-20 |
| **Review Cycle** | On-Demand |
| **Next Review Date** | 2026-08-20 |
| **Owner** | Enterprise Architect, NHS Digital |
| **Reviewed By** | PENDING |
| **Approved By** | PENDING |
| **Distribution** | Project Team, Development Team |
| **Source Research** | ARC-001-RSCH-v1.0 |

## Revision History

| Version | Date | Author | Changes | Approved By | Approval Date |
|---------|------|--------|---------|-------------|---------------|
| 1.0 | 2026-02-20 | ArcKit AI | Initial creation from `/arckit:research` agent | PENDING | PENDING |

---

## Summary

AWS Aurora PostgreSQL Serverless v2 is Amazon's fully managed, auto-scaling relational database service that is wire-compatible with PostgreSQL 15/16. It scales instantly from a minimum of 0.5 ACU (Aurora Capacity Units) to 128 ACU per instance without manual intervention, making it uniquely suited to the variable demand patterns of a national NHS appointment booking service (sparse overnight, peaks during GP surgery open hours). Multi-AZ deployment with automatic failover < 30 seconds satisfies NFR-A-002 (RTO 1 hour, RPO 15 minutes). Aurora Global Database extends this to cross-region replication for disaster recovery across two UK regions.

## Key Findings

- **Auto-scaling**: Aurora Serverless v2 scales in sub-second response time from 0.5 to 128 ACU. This eliminates the capacity planning risk for a service scaling from 10M (Year 1) to 100M (Year 3) appointment records (NFR-S-001, DR-001).
- **High Availability**: Multi-AZ deployment provides automatic failover < 30 seconds. Six-way distributed storage across 3 AZs — no storage capacity planning needed. All writes synchronously replicated to 6 copies before acknowledgment.
- **Disaster Recovery**: Aurora Global Database provides cross-region replication with RPO < 1 second and RTO < 1 minute (significantly better than NFR-A-002 requirements of RPO 15 min, RTO 1 hour).
- **PostgreSQL Compatibility**: 100% wire-compatible with standard PostgreSQL. All PostgreSQL client libraries, ORMs (Spring Data JPA, SQLAlchemy), and tooling work without modification. No vendor lock-in at the query/schema level.
- **Encryption**: AWS KMS-backed AES-256 encryption at rest for all storage, WAL logs, and snapshots (NFR-SEC-003). Field-level encryption for NHS Number, Date of Birth, contact details handled at application layer using KMS GenerateDataKey.
- **Backup and Retention**: Continuous backup to S3 — point-in-time recovery to any second within 35 days (NFR-A-002 RPO 15 minutes easily met). Automated snapshots. For 8-year audit log retention (NFR-C-003), AuditLog records are separately archived to S3 Object Lock WORM.
- **Connection Management**: RDS Proxy recommended for EKS pod deployments — manages connection pooling and prevents connection exhaustion during auto-scaling events (EKS pods spinning up can create 1000s of simultaneous DB connections).
- **Performance Insights**: Built-in query performance profiling tool — no additional observability tooling needed for database-level monitoring (complements Grafana/Prometheus for application metrics).
- **Pricing (eu-west-2)**: ~$0.12/ACU-hour. Minimum 0.5 ACU = ~$0.06/hour (~£526/year at minimum). At 20 ACU average load = ~£21,000/year. Reserved instances not available for Serverless v2 — pay-as-you-go only.
- **Data Volume**: Aurora auto-scales storage in 10GB increments — no pre-provisioning. Supports up to 128TB per cluster — more than sufficient for 50TB over 5 years (NFR-S-002).
- **NHS NHS Number / PII**: Field-level encryption of NHS Number and Date of Birth must be implemented at the application layer (KMS data key per record or envelope encryption). Aurora encryption at rest does not provide field-level protection.

## Relevance to Projects

- **ARC-001 NHS Appointment Booking Service**: Recommended primary transactional database for Appointment, Citizen, Organisation, and AuditLog entities (DR-001 to DR-004). Serverless v2 auto-scaling eliminates capacity planning risk from 10M to 100M appointment records. 3-year TCO estimate £434,000.

---

**Generated by**: ArcKit `/arckit:research` agent
**Generated on**: 2026-02-20
**ArcKit Version**: 2.2.0
**Project**: NHS Digital Appointment Booking Service (Project 001)
**Model**: Claude Sonnet 4.6
